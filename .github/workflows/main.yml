name: Newsletter Automation

on:
  push:
    branches:
      - main
  schedule:
    - cron: '0 8 * * *' # Runs at 03:00 AM (UTC) every Monday, Wednesday, and Friday (Check https://crontab.guru/)

jobs:
  news-letter-automation:
    runs-on: ubuntu-latest
    steps:  
      - name: checkout repo content
        uses: actions/checkout@v2
      - name: 🍽️ Checkout the repo
        uses: actions/checkout@master
        with:
          fetch-depth: 1

      - name: 🐍 Set up Python 3.8
        uses: actions/setup-python@v2
        with:
          python-version: '3.8'

      - name: 💿 Install Python package
        run: pip install -r requirements.txt

      - name: 🚀 Run Automation
        run: python NewsAggregation/Newsletter/email_html.py


# name: Master
# on:
#   schedule:
#     - cron: "* * * * *" #runs at 00:00 UTC every Monday -> every 15th minute
# jobs:
#   build:
#     runs-on: ubuntu-latest
#     steps:
#     - uses: actions/checkout@v1
#     - name: Running
#       run: |
#         echo "Running!"